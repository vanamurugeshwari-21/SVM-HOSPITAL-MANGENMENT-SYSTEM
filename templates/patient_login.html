<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SVM Hospital | Patient Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#00ffff;
  --accent:#4b0082;
  --bg:#0f0a1a;
  --card:#1a1433;
  --text:#e8faff;
  --text-light:#b0a8ff;
  --glow:0 0 10px rgba(0,255,255,.6),0 0 20px rgba(0,255,255,.4);
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif}
body{
  height:100vh;display:flex;justify-content:center;align-items:center;
  background:linear-gradient(135deg,#0f0a1a,#1b1140);color:var(--text)
}
.card{
  width:420px;padding:35px;background:var(--card);border-radius:18px;
  box-shadow:0 0 25px rgba(75,0,130,.5),0 0 60px rgba(0,255,255,.15);
  position:relative
}
.logo{display:flex;justify-content:center;margin-bottom:15px}
.logo img{width:75px;border-radius:50%;padding:6px;background:#ffffff22;box-shadow:var(--glow)}
h2{text-align:center;margin-bottom:22px;color:var(--primary);text-shadow:var(--glow)}
.form-group{margin-bottom:14px}
label{font-size:14px;color:var(--text-light)}
input{
  width:100%;padding:11px;border-radius:10px;border:1px solid #444;
  background:#120c2b;color:white;outline:none;transition:.3s
}
input:focus{border-color:var(--primary);box-shadow:var(--glow)}
button.login-btn{
  width:100%;margin-top:18px;padding:13px;border:none;border-radius:30px;
  font-weight:600;font-size:16px;color:white;cursor:pointer;
  background:linear-gradient(90deg,var(--accent),var(--primary));
  box-shadow:0 0 15px rgba(0,255,255,.5),0 0 35px rgba(75,0,130,.6);
  transition:.3s
}
button.login-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 0 25px rgba(0,255,255,.9),0 0 55px rgba(75,0,130,.9)
}
.back-btn{
  position:absolute;top:18px;left:18px;background:none;border:1px solid var(--primary);
  color:var(--primary);padding:6px 14px;border-radius:20px;cursor:pointer;font-size:13px
}
.back-btn:hover{box-shadow:0 0 12px rgba(0,255,255,.6)}
.register{text-align:center;margin-top:15px;font-size:14px;color:var(--text-light)}
.register a{color:var(--primary);text-decoration:none}
</style>
</head>
<body>
<div class="card">
  <button class="back-btn" onclick="history.back()">← Back</button>
  
  <!-- ✅ Logo added here -->
  <div class="logo">
    <img src="svm hospital logo.png" alt="SVM Hospital Logo">
  </div>

  <h2>PATIENT LOGIN</h2>
  <div class="form-group"><label>Name</label>
    <input id="name" placeholder="Enter registered name" required>
  </div>
  <div class="form-group"><label>Email</label>
    <input type="email" id="email" placeholder="Enter registered email" required>
  </div>
  <button class="login-btn" onclick="login()">LOGIN</button>
  <div class="register">New patient? <a href="register.html">Register here</a></div>
</div>

<script>
function login(){
  const name=document.getElementById("name").value.trim();
  const email=document.getElementById("email").value.trim();
  if(!name||!email){alert("Please fill all fields");return;}

  // ✅ Query backend for patients
  fetch("http://localhost:8000/patients")
    .then(res=>res.json())
    .then(patients=>{
      const found=patients.find(p=>p.name===name && p.email===email);
      if(!found){alert("No account found. Please register first.");return;}
      localStorage.setItem("currentPatient",JSON.stringify(found));
      alert("Login successful ✅");
      window.location.href="patient_dashboard.html";
    })
    .catch(err=>alert("Error connecting to server: "+err));
}
</script>
</body>
</html>
